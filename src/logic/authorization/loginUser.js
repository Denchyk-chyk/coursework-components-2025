/**
 * Виконує пошук користувача за логіном (email або телефон) та встановлює його як поточного.
 *
 * @param {Array} users - Масив об'єктів користувачів, кожен з яких має поля email і phone.
 * @param {string} login - Вхідне значення логіну, яке може бути email або номером телефону.
 * @param {Function} setUser - Функція стану для встановлення активного користувача.
 * @param {Function} [onSuccess] - Опціональна функція, що викликається після успішного входу з переданим користувачем.
 *
 * Пояснення:
 * - Функція шукає у списку користувачів того, чий email або телефон співпадає з введеним логіном.
 * - Якщо такий користувач знайдений, він встановлюється як поточний через setUser.
 * - Після встановлення користувача, якщо є onSuccess, вона викликається з знайденим користувачем.
 * - Якщо користувач не знайдений, setUser отримує undefined або null, а onSuccess теж отримує undefined.
 */
export const loginUser = (users, login, setUser, onSuccess) => {
  // Пошук користувача, де email або телефон співпадає з логіном
  const user = users.find((u) => u.email === login || u.phone === login);

  // Встановлення знайденого користувача у стан
  setUser(user);

  // Виклик функції успішного входу, якщо вона задана
  if (onSuccess) {
    onSuccess(user);
  }
};
